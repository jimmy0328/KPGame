<html>

<head>
    <script src="assets/js/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>



    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
            <li data-target="#carousel-example-generic" data-slide-to="1"></li>
            <li data-target="#carousel-example-generic" data-slide-to="2"></li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner">
            <div class="item active">
                <img class="kpimage" src="..." alt="...">
                <div class="carousel-caption">
                    slide 1
                </div>
            </div>
            <div class="item">
                <img class="kpimage" src="..." alt="...">
                <div class="carousel-caption">
                    slide 2
                </div>
            </div>
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
        </a>
        <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
        </a>
    </div>










    <script>
    var kpClass = {};
    kpClass.url = "http://api.kptaipei.tw/v1/albums/";
    kpClass.key = "accessToken=kp540eb38fc4fe13.99451521";
    var url = kpClass.url + "?" + kpClass.key;
    /**
     * get albums by index id
     * @param  {[type]} index [description]
     * @return {[type]}       [description]
     */
    kpClass.getAlbumsById = function(index) {
        $.get(url, function(cb) {
            var html = "<img src='" + cb.data[index - 1].thumbnails.small + "'>";
            $("#kpimage").html(html);
        })
    }
    /**
     *
     * @param  {[type]} index start album
     * @param  {[type]} total total album
     * @return {[type]}       [description]
     */
    kpClass.getAlbums = function(index, total) {
        $.get(url, function(res) {
            // var html = "";
            // $.each(res.data, function(key, value) {
            //     if (key > index) {
            //         if (key > (index + total)) return;
            //         html += "<img src='" + value.thumbnails.small + "'>";
            //     }
            // });
            // $("#kpimage").html(html);


            var random = Math.floor(Math.random() * res.data.length);
            $('.kpimage').attr('src', res.data[random].thumbnails.small)

        })
    }

    $(function() {
        kpClass.getAlbums(0, 1);
    })
    </script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
</body>

</html>
